<?xml version="1.0" encoding="UTF-8"?>
<process name="SubProcessTest" item-type="Process" type="TopLevel" skin-name="uml" node-geometry="size:320:120"><description>Test focus:\n- Sub process call and return, passing a parameter value to/from the sub process\n- State persistence in the sub process\n- Process variable scope test\n- Test of de-persistence using an old process context\n- Test of persistence of dynamic process variables</description><generator-info><![CDATA[
<generator-settings generator-name="ProcessTopLevel"/>
]]></generator-info><activity-node name="AssertProcessVariableValue" display-name="PVMain must be 100"><geometry>origin:217:1198|size:160:60</geometry><socket name="In" entry="true" default="true"><param name="ExpectedValue" display-name="Expected value" type="Object" optional="true"><description>Arbitrary value or\n&quot;&lt;null>&quot;\n&quot;&lt;notnull>&quot;\n&quot;&lt;present>&quot;\n&quot;&lt;notpresent>&quot;</description><expression>100</expression></param><param name="VariableName" display-name="Variable name" type="String"><expression>&quot;PVMain&quot;</expression></param><geometry>angle:4.71238898038469</geometry></socket><socket name="Out" default="true"><geometry>angle:1.5707963267948966</geometry></socket><activity-handler handler-class="org.openbp.server.test.activity.AssertProcessVariableValueActivity"/></activity-node><activity-node name="AssertProcessVariableValue2" display-name="PVSub must not be present"><geometry>origin:217:1622|size:160:60</geometry><socket name="In" entry="true" default="true"><param name="ExpectedValue" display-name="Expected value" type="Object" optional="true"><description>Arbitrary value or\n&quot;&lt;null>&quot;\n&quot;&lt;notnull>&quot;\n&quot;&lt;present>&quot;\n&quot;&lt;notpresent>&quot;</description><expression>&quot;&lt;notpresent>&quot;</expression></param><param name="VariableName" display-name="Variable name" type="String"><expression>&quot;PVSub&quot;</expression></param><geometry>angle:4.71238898038469</geometry></socket><socket name="Out" default="true"><geometry>angle:1.5707963267948966</geometry></socket><activity-handler handler-class="org.openbp.server.test.activity.AssertProcessVariableValueActivity"/></activity-node><activity-node name="AssertProcessVariableValue3" display-name="PVMain must be present"><geometry>origin:217:293|size:160:60</geometry><socket name="In" entry="true" default="true"><param name="ExpectedValue" display-name="Expected value" type="Object" optional="true"><description>Arbitrary value or\n&quot;&lt;null>&quot;\n&quot;&lt;notnull>&quot;\n&quot;&lt;present>&quot;\n&quot;&lt;notpresent>&quot;</description><expression>&quot;&lt;present>&quot;</expression></param><param name="VariableName" display-name="Variable name" type="String"><expression>&quot;PVMain&quot;</expression></param><geometry>angle:4.71238898038469</geometry></socket><socket name="Out" default="true"><geometry>angle:1.5707963267948966</geometry></socket><activity-handler handler-class="org.openbp.server.test.activity.AssertProcessVariableValueActivity"/></activity-node><activity-node name="AssertProcessVariableValue4" display-name="PVMainTransient must be present"><geometry>origin:217:479|size:160:60</geometry><socket name="In" entry="true" default="true"><param name="ExpectedValue" display-name="Expected value" type="Object" optional="true"><description>Arbitrary value or\n&quot;&lt;null>&quot;\n&quot;&lt;notnull>&quot;\n&quot;&lt;present>&quot;\n&quot;&lt;notpresent>&quot;</description><expression>&quot;&lt;present>&quot;</expression></param><param name="VariableName" display-name="Variable name" type="String"><expression>&quot;PVMainTransient&quot;</expression></param><geometry>angle:4.71238898038469</geometry></socket><socket name="Out" default="true"><geometry>angle:1.5707963267948966</geometry></socket><activity-handler handler-class="org.openbp.server.test.activity.AssertProcessVariableValueActivity"/></activity-node><activity-node name="AssertProcessVariableValue5" display-name="PVMainTransient must be present"><geometry>origin:217:1411|size:160:60</geometry><socket name="In" entry="true" default="true"><param name="ExpectedValue" display-name="Expected value" type="Object" optional="true"><description>Arbitrary value or\n&quot;&lt;null>&quot;\n&quot;&lt;notnull>&quot;\n&quot;&lt;present>&quot;\n&quot;&lt;notpresent>&quot;</description><expression>&quot;&lt;present>&quot;</expression></param><param name="VariableName" display-name="Variable name" type="String"><expression>&quot;PVMainTransient&quot;</expression></param><geometry>angle:4.71238898038469</geometry></socket><socket name="Out" default="true"><geometry>angle:1.5707963267948966</geometry></socket><activity-handler handler-class="org.openbp.server.test.activity.AssertProcessVariableValueActivity"/></activity-node><activity-node name="CreateUnrecoverableException" display-name="Cause an unrecoverable exception here"><geometry>origin:561:981|size:278:56</geometry><socket name="In" entry="true" default="true"><geometry>angle:3.141592653589793</geometry></socket><socket name="Out" default="true"><geometry>angle:6.283185307179586</geometry></socket><activity-handler><script>throw new org.openbp.core.engine.EngineException(&quot;FailedTestCase&quot;, &quot;Invalid param value&quot;);</script></activity-handler></activity-node><decision-node name="Decision" expression="Number == 101"><geometry>origin:217:981|size:60|nameangle:3.141592653589793</geometry><socket name="In" entry="true" default="true"><param name="Number" type="Integer"/><geometry>angle:4.71238898038469</geometry></socket><socket name="No"><geometry>angle:0.0</geometry></socket><socket name="Yes" default="true"><geometry>angle:1.5707963267948966</geometry></socket></decision-node><merge-node name="Merge"><geometry>origin:217:627|size:35|nameangle:3.141592653589793</geometry><socket name="In1" entry="true"><geometry>angle:4.71238898038469</geometry></socket><socket name="In2" entry="true"><geometry>angle:0.0</geometry></socket><socket name="Out" default="true"><param name="PVMain" type="Integer"><expression>100</expression></param><geometry>angle:1.5707963267948966</geometry></socket></merge-node><final-node name="Out"><geometry>origin:217:1772|size:35</geometry><socket name="In" entry="true" default="true"><geometry>angle:4.71238898038469</geometry></socket></final-node><final-node name="Out2"><geometry>origin:838:981|size:35</geometry><socket name="In" entry="true" default="true"><geometry>angle:3.141592653589793</geometry></socket></final-node><initial-node name="Start"><geometry>origin:217:96|size:35</geometry><socket name="Out" default="true"><geometry>angle:1.5707963267948966</geometry></socket></initial-node><subprocess-node name="SubProcessTestSub1" sub-process-name="SubProcessTestSub1"><geometry>origin:217:806|size:160:60</geometry><socket name="In" entry="true" default="true"><param name="NumberIn" type="Integer"><expression>100</expression></param><geometry>angle:4.71238898038469</geometry></socket><socket name="Out" default="true"><param name="NumberOut" type="Integer"/><geometry>angle:1.5707963267948966</geometry></socket></subprocess-node><control-link name="ControlLink" source="Start.Out" target="AssertProcessVariableValue3.In"><geometry>points:1:217:136:217:153:217:192:217:216|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink10" source="AssertProcessVariableValue4.Out" target="Merge.In1"><geometry>points:1:217:508:217:531:217:577:217:607|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink11" source="AssertProcessVariableValue5.Out" target="AssertProcessVariableValue2.In"><geometry>points:1:217:1440:217:1465:217:1514:217:1545|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink2" source="SubProcessTestSub1.Out" target="Decision.In"><geometry>points:1:217:859:217:872:217:905:217:925|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink3" source="Decision.Yes" target="AssertProcessVariableValue.In"><geometry>points:1:217:1035:217:1054:217:1095:217:1121|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink4" source="Decision.No" target="CreateUnrecoverableException.In"><geometry>points:1:277:981:314:981:379:981:423:981|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink5" source="CreateUnrecoverableException.Out" target="Out2.In"><geometry>points:1:699:981:724:981:784:981:821:981|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink6" source="Merge.Out" target="SubProcessTestSub1.In"><geometry>points:1:217:670:217:688:217:728:217:753|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink7" source="AssertProcessVariableValue.Out" target="AssertProcessVariableValue5.In"><geometry>points:1:217:1227:217:1253:217:1302:217:1334|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink8" source="AssertProcessVariableValue2.Out" target="Out.In"><geometry>points:1:217:1651:217:1682:217:1724:217:1755|label:0:0|factors:0.3:0.3</geometry></control-link><control-link name="ControlLink9" source="AssertProcessVariableValue3.Out" target="AssertProcessVariableValue4.In"><geometry>points:1:217:322:217:339:217:378:217:402|label:0:0|factors:0.3:0.3</geometry></control-link><data-link name="DataLink" source="SubProcessTestSub1.Out.NumberOut" target="Decision.In.Number"><geometry>points:1:204:847:182:847:258:937:230:937|label:0:0|factors:0.3:0.3</geometry></data-link><data-link name="DataLink2" source="Merge.Out.PVMain" target="_PVMain"/><process-variable name="PVMain" type="Integer" scope="subprocess" persistent="true"/><process-variable name="PVMainTransient" type="Integer" scope="subprocess"/></process>